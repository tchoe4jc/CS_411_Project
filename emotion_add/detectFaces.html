<!DOCTYPE html>
<html lang="">
<!-- To declare your language - read more here: https://www.w3.org/International/questions/qa-html-language-declarations -->
<head>
<title>CS411</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link href="/css/layout" rel="stylesheet" type="text/css" media="all">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<style type="text/css">
/* DEMO ONLY */
.container .demo{text-align:center;}
.container .demo div{padding:8px 0;}
.container .demo div:nth-child(odd){color:#FFFFFF; background:#CCCCCC;}
.container .demo div:nth-child(even){color:#FFFFFF; background:#979797;}
@media screen and (max-width:900px){.container .demo div{margin-bottom:0;}}
/* DEMO ONLY */
</style>
</head>
<body id="top">
<div class="wrapper row0">
  <div id="topbar" class="hoc clear">
    <div class="fl_left">
    </div>
    <div class="fl_right">
      <ul class="nospace">
        <li><a href="#">Login</a></li>
        <li><a href="#">Register</a></li>
      </ul>
    </div>
  </div>
</div>
<div class="wrapper row1">
  <header id="header" class="hoc clear">
    <div id="logo" class="fl_left">
      <h1><a href="/">CS411 Project</a></h1>
    </div>
    <nav id="mainav" class="fl_right">
      <ul class="clear">
        <li> <a href="/">Home</a> </li>
        <li><a href="/recipe">Recipe</a>
        </li>
        <li><a href="/detectFaces">Emotion Detect</a>
        </li>
      </ul>
    </nav>
  </header>
</div>
<div class="bgded overlay" style="background-image:url('http://www.exclusivepaints.com/wp-content/uploads/2017/03/assorted-paint-colors-abstract-header.jpg');">
  <div id="breadcrumb" class="hoc clear">
  </div>
</div>
<div class="wrapper row3">
  <main class="hoc container clear">
    <div class="content">
      <div>
        <script type="text/javascript">
      function processImage() {
          // Replace <Subscription Key> with your valid subscription key.
          var subscriptionKey = "acdf906c976e45b99ccfd0405bc73cda";

          var uriBase =
              "https://westcentralus.api.cognitive.microsoft.com/face/v1.0/detect";

          // Request parameters.
          var params = {
              "returnFaceId": "true",
              "returnFaceLandmarks": "false",
              "returnFaceAttributes":
                  "age,gender,headPose,smile,facialHair,glasses,emotion," +
                  "hair,makeup,occlusion,accessories,blur,exposure,noise"
          };

          // Display the image.
          var sourceImageUrl = document.getElementById("inputImage").value;
          document.querySelector("#sourceImage").src = sourceImageUrl;

          // Perform the REST API call.
          $.ajax({
              url: uriBase + "?" + $.param(params),

              // Request headers.
              beforeSend: function(xhrObj){
                  xhrObj.setRequestHeader("Content-Type","application/json");
                  xhrObj.setRequestHeader("Ocp-Apim-Subscription-Key", subscriptionKey);
              },

              type: "POST",

              // Request body.
              data: '{"url": ' + '"' + sourceImageUrl + '"}',
          })

          .done(function(data) {
              // Show formatted JSON on webpage.
              $("#responseTextArea").val(JSON.stringify(data, null, 2));
          })

          .fail(function(jqXHR, textStatus, errorThrown) {
              // Display error message.
              var errorString = (errorThrown === "") ?
                  "Error. " : errorThrown + " (" + jqXHR.status + "): ";
              errorString += (jqXHR.responseText === "") ?
                  "" : (jQuery.parseJSON(jqXHR.responseText).message) ?
                      jQuery.parseJSON(jqXHR.responseText).message :
                          jQuery.parseJSON(jqXHR.responseText).error.message;
              alert(errorString);
          });
      };
  </script>
  <h1>Detect Faces</h1>
    <div>
Enter the URL to an image that includes a face or faces, then click
the <strong>Analyze face</strong> button.<br>
Image to analyze:
</div>
<div>
  <input type="text" name="inputImage" id="inputImage"
  value="https://upload.wikimedia.org/wikipedia/commons/c/c3/RH_Louise_Lillian_Gish.jpg" />
  <button onclick="processImage()">Analyze face</button>
  </div>


<br><br>
<div id="wrapper" style="width:1020px; display:table;">
<div id="jsonOutput" style="width:600px; display:table-cell;">
    Response:<br><br>
    <textarea id="responseTextArea" class="UIInput"
        style="width:580px; height:400px;"></textarea>
</div>
<div id="imageDiv" style="width:420px; display:table-cell;">
    Source image:<br><br>
    <img id="sourceImage" width="400" />
</div>
</div>

      </div>
    </div>
    <!-- / main body -->
    <div class="clear"></div>
  </main>
</div>
<div class="wrapper row4">
  <footer id="footer" class="hoc clear">
  </footer>
</div>
<a id="backtotop" href="#top"><i class="fa fa-chevron-up"></i></a>
<!-- JAVASCRIPTS -->
<script src="../layout/scripts/jquery.min.js"></script>
<script src="../layout/scripts/jquery.backtotop.js"></script>
<script src="../layout/scripts/jquery.mobilemenu.js"></script>
</body>
</html>
